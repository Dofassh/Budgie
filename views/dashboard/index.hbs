<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Anton&family=Baloo+2:wght@600&family=Courgette&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Baloo+2&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Poiret+One&display=swap" rel="stylesheet">
 <script src="https://kit.fontawesome.com/32ebbe4a5f.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="/stylesheets/dashboard.css" />

<style>
body {
  font-size: 28px;
}

ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
  overflow: hidden;
  background-color: rgb(117, 136, 133);
  position: -webkit-sticky; /* Safari */
  position: sticky;
  top: 0;
}

li {
  float: left;
}

li a {
  display: block;
  color: white;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
}

li a:hover {
  background-color: rgb(236, 227, 227);
}

.active {
  background-color: #4CAF50;
}
</style>


<ul>
 <li><a href="https://www.gov.uk/coronavirus/worker-support">GOV.uk</a></li>
  <li><a href="https://www.usa.gov/disaster-help-food-housing-bills">USA.gov</a></li>
    <li><a href=" https://financebuzz.com/ways-to-make-extra-money?utm_source=GoogleAdWords&utm_medium=paid-search-g&utm_campaign=SideHustle_EasyMoney_1138479818_59394857899&utm_content=294342832927&utm_term=how%20to%20earn%20extra%20money&mt=e&device=c&devicemodel=&targetid=kwd-33672711&target=&keyword=how%20to%20earn%20extra%20money&campaignid=1138479818&adgroupid=59394857899&gclid=EAIaIQobChMIstyX5a7Z7wIVs-y1Ch1D1wh6EAAYBCAAEgL-MfD_BwE">How to earn extra money</a></li>
     <li><a href="https://www.dllr.state.md.us/finance/consumers/frcovid.shtml">COVID-19 FINANCIAL RELIEF</a></li>
  <li><a href="#contact">Logout</a></li>
</ul>

<h1>{{user}}'s Budgie Dashboard</h1> 

 <form action="/dashboard" method="post">
{{!-- <select name="month" id="month">
  <option value="Month">Month</option>
  <option value="Jan">January</option>
  <option value="Feb">February</option>
  <option value="Mar">March</option>
  <option value="Apr">April</option>
  <option value="May">May</option>
  <option value="Jun">June</option>
  <option value="Jul">July</option>
  <option value="Aug">August</option>
  <option value="Sep">September</option>
  <option value="Oct">October</option>
  <option value="Nov">November</option>
  <option value="Dec">December</option>
</select> --}}
 <input name="month" placeholder="Month" class="border">
  <input name="income" placeholder="Income for this month" class="border">
  <input name="savings" placeholder="Your savings" class="border">
  <input type="hidden" name="id" value="{{this._id}}">
  <button type="submit">+</button>
</form>

{{#each statements}}


<div class="statement">
  <div>
    <p>Month: {{ this.month }}</p>
    <p>your savings: {{ this.savings }}</p>
    <p>total expenses: {{ totalExpenses this.expensefields}}</p>
    <div>
      <form action="/dashboard/expensefield" method="post" class="expenseInput">
      <div>
      <i class="fas fa-shopping-cart"></i>
        <input name="groceries" placeholder="Groceries" class="border">
        <button type="submit"><i class="fas fa-plus"></i></button>
      </div>
      <div>
        <i class="fas fa-home"></i>
        <input name="utilities" placeholder="Utilities" class="border">
        <button type="submit"><i class="fas fa-plus"></i></button>
        </div>
        <div>
        <i class="fas fa-music"></i>
        <input name="entertainment" placeholder="Entertainment" class="border">
        <input type="hidden" name="id" value="{{this._id}}">
        <button type="submit"><i class="fas fa-plus"></i></button>
        </div>
      </form>
    </div>
</div>

    {{#each this.expensefields}}
      {{!-- <div>
        <p>you spent on groceries: {{ this.groceries }}</p>
        <p>you spent on utilities: {{ this.utilities }}</p>
        <p>you spent on entertainment: {{ this.entertainment }}</p>
      </div> --}}
    {{/each}}

<div id="{{this._id}}" class="piechart"></div>

<script type="text/javascript">
// Load google charts
google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(drawChart);


// Draw the chart and set the chart values
function drawChart() {
  var data = google.visualization.arrayToDataTable([
  ['Task', 'Amount'],
  ['Current Balance', {{ remainingBalance this }}],
  ['Groceries', {{ totalGroceriesExpenses this.expensefields }}],
  ['Utilities', {{ totalUtilitiesExpenses this.expensefields }}],
  ['Entertainment', {{ totalEntExpenses this.expensefields }}],
  ['Savings', {{ this.savings }}]
]);

  // Optional; add a title and set the width and height of the chart
  var options = {'title': 'Monthly Expenses', 
      'width':550, 
      'height':400, 
      is3D: true, 
      right:70, 
      pieSliceText:'value', 
      backgroundColor: { fill:'transparent' },
      pieSliceTextStyle: {color: 'black'},
  };

  // Display the chart inside the <div> element with id="piechart"
  var chart = new google.visualization.PieChart(document.getElementById("{{this._id}}"));
  chart.draw(data, options);
}
</script>
  <div>
    <p>your income is: {{ this.income }}</p>
    <p>current balance: {{ remainingBalance this}}</p>
  </div>
</div>
{{/each}}


